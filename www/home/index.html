<ons-splitter>
  <ons-splitter-side var="menu" side="left" width="80%" collapse swipeable>
    <ons-page modifier="material" ng-controller="MenuController as menu">
      <ons-list modifier="material">
        <ons-list-header modifier="material">Menu</ons-list-header>
        <ons-list-item modifier="material">
          This is a menu.
        </ons-list-item>
        <ons-list-item modifier="material" ng-click="menu.logout()" >
          ログアウト
        </ons-list-item>
      </ons-list>
    </ons-page>
  </ons-splitter-side>
  <ons-splitter-content page="home/index.html"></ons-splitter-content>
</ons-splitter>

<ons-template id="home/index.html">
  <ons-page modifier="material" ng-controller="InfraredGroupController as ir">
    <ons-toolbar modifier="material">
      <div class="left">
        <ons-toolbar-button ng-click="menu.open()" modifier="material">
          <ons-icon icon="md-menu"></ons-icon>
        </ons-toolbar-button>
      </div>
      <div class="center">Switch</div>
    </ons-toolbar>
    <ons-progress indeterminate></ons-progress>
    <ons-list modifier="material">
      <ons-list-header modifier="material">赤外線グループ一覧</ons-list-header>
      <ons-list-item id="group-{{group.id}}" class="infrared_group" modifier="material" ng-repeat="group in infraredGroupModel.groups">
        <label class="checkbox checkbox--material">
          <input type="checkbox" ng-model="group.done" class="checkbox__input checkbox--material__input">
          <div class="checkbox__checkmark checkbox--material__checkmark"></div>
        </label>
        <ons-material-input label="Name" type="text" ng-show="ir.selectedItem == $index" ng-model="group.name" ng-blur="ir.selectedItem = -1"></ons-material-input>
        <span id="ir-name" class="name" ng-class="{ 'done': group.done }" ng-hide="ir.selectedItem == $index" ng-click="ir.selectedItem = $index; ir.focusInput($event)">{{ group.name || 'Untitled item' }}</span>
      </ons-list-item>
      <ons-list-item style="text-align: center;">
        <ons-button ng-click="ir.clearCompleted()" modifier="material--flat">
        <ons-ripple color="rgba(0, 150, 136, 0.1)"></ons-ripple>
        Clear completed groups
      </ons-button>
      </ons-list-item>
    </ons-list>

    <ons-fab position="bottom right" ng-click="ir.newIrGroup()">
      <ons-ripple color="rgba(255, 255, 255, 0.2)"></ons-ripple>
      <ons-icon icon="md-plus" size="24px" style="line-height: 56px;"></ons-icon>
    </ons-fab>
  </ons-page>
</ons-template>

